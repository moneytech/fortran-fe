
CC=@CC@
CFLAGS=@CFLAGS@
CPPFLAGS=@CPPFLAGS@
LDFLAGS=@LDFLAGS@
LIBS=@LIBS@

RM=rm -f
EXE=g95

OBJS=module.o matchexp.o format.o io.o scanner.o error.o parse.o expr.o \
     primary.o symbol.o arith.o match.o st.o intrinsic.o array.o interface.o \
     misc.o decl.o select.o simplify.o

g95: $(OBJS) date.c
	@$(CC) -c date.c
	$(CC) $(LDFLAGS) -o $@ date.o $(OBJS) $(LIBS)
	@rm date.o

%.o: %.c g95.h
	$(CC) $(CFLAGS) $(CPPFLAGS) $<

clean:
	$(RM) $(EXE) *.o

distclean: clean
	$(RM) core *~ *.orig *.rej doc/*~

package:
	tar cvzf g95.tgz `cat MANIFEST`
